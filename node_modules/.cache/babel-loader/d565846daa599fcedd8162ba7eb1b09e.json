{"ast":null,"code":"import React,{useEffect}from'react';import{getDateTime,roundSeparateNumber}from\"../../common/utils\";import Chart from\"../main/components/Chart.component\";import Loader from\"../main/components/Loader.component\";import{useDispatch,useSelector}from\"react-redux\";import{Link,useParams}from\"react-router-dom\";import{getCurrentCripto}from\"../../common/fetch\";import{Badge,Button}from\"react-bootstrap\";import{addCurrentCurrency,setIsOpenAddingWallet}from\"../../store/walletReducer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CurrencyPage=function CurrencyPage(){var _useSelector=useSelector(function(state){return state.assets;}),allAssets=_useSelector.allAssets;var _useSelector2=useSelector(function(state){return state.details;}),assets24h=_useSelector2.assets24h,details=_useSelector2.details;var _getDateTime=getDateTime(),now=_getDateTime.now,startDay=_getDateTime.startDay,start24h=_getDateTime.start24h,date=_getDateTime.date;var _useParams=useParams(),id=_useParams.id;var dispatch=useDispatch();var getAsset=function getAsset(){return allAssets.find(function(item){return item.id===id;});};var asset=getAsset();useEffect(function(){var interval1=0;var interval2=0;if(allAssets.length){interval2=setInterval(function(){return dispatch(getCurrentCripto(asset.id,start24h.getTime(),now.getTime()));},2000);interval1=setInterval(function(){return dispatch(getCurrentCripto(asset.id,startDay,now.getTime(),true));},2000);}return function(){clearInterval(interval1);clearInterval(interval2);};},[id,allAssets]);// useEffect(() => {\n//     const interval = setInterval(() => dispatch(getAllCripto()), 2000);\n//     return () => clearInterval(interval);\n// }, []);\nvar openAddToWallet=function openAddToWallet(){dispatch(setIsOpenAddingWallet(true));dispatch(addCurrentCurrency(asset));};return/*#__PURE__*/_jsxs(\"div\",{className:\"card__wrapper\",children:[Object.keys(details).length?/*#__PURE__*/_jsxs(\"div\",{className:\"card__content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card__info\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://assets.coincap.io/assets/icons/\".concat(asset.symbol.toLowerCase(),\"@2x.png\"),alt:\"currency\",className:\"card__img\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card__data\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\" \",asset.name,\" (\",asset.symbol,\")\"]}),/*#__PURE__*/_jsx(\"span\",{children:date})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card__data\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"HIGH: $\",roundSeparateNumber(details.max)]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"LOW: $\",roundSeparateNumber(details.min)]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"AVERAGE: $\",roundSeparateNumber(details.average)]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card__data\",children:/*#__PURE__*/_jsx(\"span\",{className:\"button button__add\",children:/*#__PURE__*/_jsx(Badge,{bg:\"info\",onClick:openAddToWallet,children:\"+\"})})})]}):/*#__PURE__*/_jsx(Loader,{}),/*#__PURE__*/_jsx(Chart,{assets24h:assets24h,max:details.max,min:details.min}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"div\",{className:\"centeredBlock\",children:/*#__PURE__*/_jsx(Button,{children:\"Back\"})})})]});};export default CurrencyPage;","map":{"version":3,"sources":["J:/js/cripto/src/components/currencyPage/CurrencyPage.component.js"],"names":["React","useEffect","getDateTime","roundSeparateNumber","Chart","Loader","useDispatch","useSelector","Link","useParams","getCurrentCripto","Badge","Button","addCurrentCurrency","setIsOpenAddingWallet","CurrencyPage","state","assets","allAssets","details","assets24h","now","startDay","start24h","date","id","dispatch","getAsset","find","item","asset","interval1","interval2","length","setInterval","getTime","clearInterval","openAddToWallet","Object","keys","symbol","toLowerCase","name","max","min","average"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react';\r\nimport {getDateTime, roundSeparateNumber} from \"../../common/utils\";\r\nimport Chart from \"../main/components/Chart.component\";\r\nimport Loader from \"../main/components/Loader.component\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {Link, useParams} from \"react-router-dom\";\r\nimport { getCurrentCripto} from \"../../common/fetch\";\r\nimport {Badge, Button} from \"react-bootstrap\";\r\nimport {addCurrentCurrency, setIsOpenAddingWallet} from \"../../store/walletReducer\";\r\n\r\nconst CurrencyPage = () => {\r\n        const {allAssets} = useSelector(state => state.assets);\r\n        const {assets24h, details} = useSelector(state => state.details);\r\n        const {now, startDay, start24h, date} = getDateTime();\r\n        const {id} = useParams();\r\n        const dispatch = useDispatch();\r\n        const getAsset = () => {\r\n            return allAssets.find((item) => item.id === id);\r\n        };\r\n\r\n        const asset = getAsset();\r\n\r\n        useEffect(() => {\r\n            let interval1 = 0;\r\n            let interval2 = 0;\r\n            if(allAssets.length) {\r\n                 interval2 = setInterval(() => dispatch(getCurrentCripto(asset.id, start24h.getTime(), now.getTime())), 2000);\r\n                 interval1 = setInterval(() => dispatch(getCurrentCripto(asset.id, startDay, now.getTime(), true)), 2000);\r\n            }\r\n            return () => {\r\n                clearInterval(interval1);\r\n                clearInterval(interval2);\r\n            };\r\n        }, [id, allAssets]);\r\n\r\n        // useEffect(() => {\r\n        //     const interval = setInterval(() => dispatch(getAllCripto()), 2000);\r\n        //     return () => clearInterval(interval);\r\n        // }, []);\r\n\r\n        const openAddToWallet = () => {\r\n            dispatch(setIsOpenAddingWallet(true));\r\n            dispatch(addCurrentCurrency(asset));\r\n        };\r\n\r\n        return (\r\n            <div className=\"card__wrapper\">\r\n                {Object.keys(details).length  ?\r\n                    <div className=\"card__content\">\r\n                        <div className=\"card__info\">\r\n                            <img\r\n                                src={`https://assets.coincap.io/assets/icons/${asset.symbol.toLowerCase()}@2x.png`}\r\n                                alt=\"currency\"\r\n                                className=\"card__img\"/>\r\n                            <div className=\"card__data\">\r\n                                <span> {asset.name} ({asset.symbol})</span>\r\n                                <span>{date}</span>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"card__data\">\r\n                            <span>HIGH: ${roundSeparateNumber(details.max)}</span>\r\n                            <span>LOW: ${roundSeparateNumber(details.min)}</span>\r\n                            <span>AVERAGE: ${roundSeparateNumber(details.average)}</span>\r\n                        </div>\r\n                        <div className=\"card__data\">\r\n                            <span className=\"button button__add\"><Badge bg=\"info\" onClick={openAddToWallet}>+</Badge></span>\r\n                        </div>\r\n                    </div>\r\n                    :\r\n                    <Loader/>\r\n                }\r\n                <Chart assets24h={assets24h} max={details.max} min={details.min}/>\r\n                <Link to='/'>\r\n                    <div className=\"centeredBlock\"><Button>Back</Button></div>\r\n                </Link>\r\n            </div>\r\n        )\r\n    }\r\n;\r\n\r\nexport default CurrencyPage;"]},"metadata":{},"sourceType":"module"}