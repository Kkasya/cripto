{"ast":null,"code":"import axios from \"axios\";\nimport { addAssets } from \"../store/assetReducer\";\nimport { addAssets24, addDetails } from \"../store/detailsReducer\";\nimport { getDetails } from \"./utils\";\n\nconst getCripto = (page, limit) => {\n  return async dispatch => {\n    const response = await axios.get('https://api.coincap.io/v2/assets', {\n      params: {\n        limit: limit,\n        offset: (page - 1) * limit\n      }\n    });\n    dispatch(addAssets(response.data.data));\n  };\n};\n\nconst getCurrentCripto = async (id, start, end, isDetails) => {\n  try {\n    const {\n      data\n    } = await api.createPost(post);\n    dispatch({\n      type: 'CREATE',\n      payload: data\n    });\n  } catch (error) {\n    console.log(error);\n  }\n\n  return async dispatch => {\n    console.log(id);\n    const response = await axios.get(`https://api.coincap.io/v2/assets/${id}/history`, {\n      params: {\n        interval: 'h1',\n        start: start,\n        end: end\n      }\n    });\n    console.log(id, isDetails);\n\n    if (isDetails) {\n      console.log(getDetails(response.data.data));\n      dispatch(addDetails(getDetails(response.data.data)));\n    } else dispatch(addAssets24(response.data.data));\n  }; //\n  //\n  // try {\n  //     const response = await axios.get(`https://api.coincap.io/v2/assets/${id}/history`, {\n  //         params: {\n  //             interval: 'h1',\n  //             start: start,\n  //             end: end,\n  //         }\n  //     });\n  //     return response.data;\n  // } catch (e) {\n  //     console.log(e);\n  //     return 0;\n  // }\n};\n\nexport { getCripto, getCurrentCripto };","map":{"version":3,"sources":["J:/js/cripto/src/common/fetch.js"],"names":["axios","addAssets","addAssets24","addDetails","getDetails","getCripto","page","limit","dispatch","response","get","params","offset","data","getCurrentCripto","id","start","end","isDetails","api","createPost","post","type","payload","error","console","log","interval"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,SAAR,QAAwB,uBAAxB;AACA,SAAQC,WAAR,EAAqBC,UAArB,QAAsC,yBAAtC;AACA,SAAQC,UAAR,QAAyB,SAAzB;;AAEA,MAAMC,SAAS,GAAG,CAACC,IAAD,EAAOC,KAAP,KAAiB;AAC/B,SAAO,MAAOC,QAAP,IAAoB;AACvB,UAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACU,GAAN,CAAU,kCAAV,EAA8C;AACjEC,MAAAA,MAAM,EAAE;AACJJ,QAAAA,KAAK,EAAEA,KADH;AAEJK,QAAAA,MAAM,EAAE,CAACN,IAAI,GAAG,CAAR,IAAaC;AAFjB;AADyD,KAA9C,CAAvB;AAMAC,IAAAA,QAAQ,CAACP,SAAS,CAACQ,QAAQ,CAACI,IAAT,CAAcA,IAAf,CAAV,CAAR;AACH,GARD;AASH,CAVD;;AAYA,MAAMC,gBAAgB,GAAG,OAAOC,EAAP,EAAWC,KAAX,EAAkBC,GAAlB,EAAuBC,SAAvB,KAAqC;AAC1D,MAAI;AACA,UAAM;AAAEL,MAAAA;AAAF,QAAW,MAAMM,GAAG,CAACC,UAAJ,CAAeC,IAAf,CAAvB;AAEAb,IAAAA,QAAQ,CAAC;AAAEc,MAAAA,IAAI,EAAE,QAAR;AAAkBC,MAAAA,OAAO,EAAEV;AAA3B,KAAD,CAAR;AACH,GAJD,CAIE,OAAOW,KAAP,EAAc;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH;;AACD,SAAO,MAAOhB,QAAP,IAAoB;AACvBiB,IAAAA,OAAO,CAACC,GAAR,CAAYX,EAAZ;AACA,UAAMN,QAAQ,GAAG,MAAMT,KAAK,CAACU,GAAN,CAAW,oCAAmCK,EAAG,UAAjD,EAA4D;AAC/EJ,MAAAA,MAAM,EAAE;AACJgB,QAAAA,QAAQ,EAAE,IADN;AAEJX,QAAAA,KAAK,EAAEA,KAFH;AAGJC,QAAAA,GAAG,EAAEA;AAHD;AADuE,KAA5D,CAAvB;AAOAQ,IAAAA,OAAO,CAACC,GAAR,CAAYX,EAAZ,EAAgBG,SAAhB;;AACA,QAAIA,SAAJ,EAAe;AACXO,MAAAA,OAAO,CAACC,GAAR,CAAYtB,UAAU,CAACK,QAAQ,CAACI,IAAT,CAAcA,IAAf,CAAtB;AACAL,MAAAA,QAAQ,CAACL,UAAU,CAACC,UAAU,CAACK,QAAQ,CAACI,IAAT,CAAcA,IAAf,CAAX,CAAX,CAAR;AACH,KAHD,MAGOL,QAAQ,CAACN,WAAW,CAACO,QAAQ,CAACI,IAAT,CAAcA,IAAf,CAAZ,CAAR;AACV,GAdD,CAR0D,CAuB1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,CAtCD;;AAwCA,SAAQR,SAAR,EAAmBS,gBAAnB","sourcesContent":["import axios from \"axios\";\r\nimport {addAssets} from \"../store/assetReducer\";\r\nimport {addAssets24, addDetails} from \"../store/detailsReducer\";\r\nimport {getDetails} from \"./utils\";\r\n\r\nconst getCripto = (page, limit) => {\r\n    return async (dispatch) => {\r\n        const response = await axios.get('https://api.coincap.io/v2/assets', {\r\n            params: {\r\n                limit: limit,\r\n                offset: (page - 1) * limit,\r\n            }\r\n        });\r\n        dispatch(addAssets(response.data.data));\r\n    }\r\n};\r\n\r\nconst getCurrentCripto = async (id, start, end, isDetails) => {\r\n    try {\r\n        const { data } = await api.createPost(post);\r\n\r\n        dispatch({ type: 'CREATE', payload: data });\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n    return async (dispatch) => {\r\n        console.log(id)\r\n        const response = await axios.get(`https://api.coincap.io/v2/assets/${id}/history`, {\r\n            params: {\r\n                interval: 'h1',\r\n                start: start,\r\n                end: end,\r\n            }\r\n        });\r\n        console.log(id, isDetails)\r\n        if (isDetails) {\r\n            console.log(getDetails(response.data.data))\r\n            dispatch(addDetails(getDetails(response.data.data)));\r\n        } else dispatch(addAssets24(response.data.data));\r\n    }\r\n    //\r\n    //\r\n    // try {\r\n    //     const response = await axios.get(`https://api.coincap.io/v2/assets/${id}/history`, {\r\n    //         params: {\r\n    //             interval: 'h1',\r\n    //             start: start,\r\n    //             end: end,\r\n    //         }\r\n    //     });\r\n    //     return response.data;\r\n    // } catch (e) {\r\n    //     console.log(e);\r\n    //     return 0;\r\n    // }\r\n};\r\n\r\nexport {getCripto, getCurrentCripto};"]},"metadata":{},"sourceType":"module"}