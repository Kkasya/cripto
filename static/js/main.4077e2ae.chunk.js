(this.webpackJsonpcripto=this.webpackJsonpcripto||[]).push([[0],{218:function(e,t,c){},219:function(e,t,c){},377:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(30),r=c.n(a),s=(c(218),c(219),c(46)),i=c.n(s),l=c(115),o=c(116),d=c.n(o),j=c(3),u=JSON.parse(localStorage.getItem("page"))||1,b={assets:[],allAssets:JSON.parse(localStorage.getItem("allAssets"))||[],activePage:u,isOpenAssets:!1,limit:10},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ASSETS":return Object(j.a)(Object(j.a)({},e),{},{assets:t.payload,isOpenAssets:!0});case"ADD_ALL_ASSETS":return Object(j.a)(Object(j.a)({},e),{},{allAssets:t.payload,isOpenAssets:!0});case"SET_PAGE":return Object(j.a)(Object(j.a)({},e),{},{activePage:t.payload});default:return e}},h={assets24h:[],details:{}},p=function(e){return{type:"ADD_ASSETS_24h",payload:e}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ASSETS_24h":return Object(j.a)(Object(j.a)({},e),{},{assets24h:t.payload});case"ADD_DETAILS":return Object(j.a)(Object(j.a)({},e),{},{details:t.payload});default:return e}},x=c(45),f=function(e){var t=Math.abs(Number(e)),c="t",n="b",a="m";return t>=1e12?(t/1e12).toFixed(2)+"".concat(c):t>=1e9?(t/1e9).toFixed(2)+"".concat(n):t>=1e6?(t/1e6).toFixed(2)+"".concat(a):Number(t.toFixed(2)).toLocaleString("ru")},y=function(e){var t=Object(x.a)(e),c=t[0].priceUsd,n=t[0].priceUsd,a=0;t.forEach((function(e){c=e.priceUsd>c?e.priceUsd:c,n=e.priceUsd<n?e.priceUsd:n,a+=Number(e.priceUsd)}));var r=a/t.length;return{max:c,min:n,average:r}},v=function(e,t,c,n){return function(){var a=Object(l.a)(i.a.mark((function a(r){var s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.get("https://api.coincap.io/v2/assets/".concat(e,"/history"),{params:{interval:"h1",start:t,end:c}});case 2:s=a.sent,r(n?{type:"ADD_DETAILS",payload:y(s.data.data)}:p(s.data.data));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},g=c(108),_=c(380),N=c(17),S={currency:JSON.parse(localStorage.getItem("currency"))||[],addedCurrency:{},changeWallet:JSON.parse(localStorage.getItem("changeWallet"))||null,isOpenAddingWallet:!1,isOpenWallet:!1},A=function(e){return{type:"ADD_CURRENT_CURRENCY",payload:e}},E=function(e){return{type:"SET_IS_OPEN_ADDING_WALLET",payload:e}},C=function(e){return{type:"SET_IS_OPEN_WALLET",payload:e}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CURRENCY":return e.currency.filter((function(e){return e.id===t.payload.id})).length?Object(j.a)(Object(j.a)({},e),{},{currency:Object(x.a)(e.currency).map((function(e){return e.id===t.payload.id&&e.price===t.payload.price&&(e.summary=Number(e.summary)+Number(t.payload.summary),e.count=Number(e.count)+Number(t.payload.count)),e})),changeWallet:t.payload.summary}):Object(j.a)(Object(j.a)({},e),{},{currency:[].concat(Object(x.a)(e.currency),[t.payload]),changeWallet:t.payload.summary});case"DELETE_CURRENT_CURRENCY":return Object(j.a)(Object(j.a)({},e),{},{changeWallet:-Number(t.payload.summary),currency:Object(x.a)(e.currency).filter((function(e){return e.id!==t.payload.id&&e.price!==t.payload.priceUsd}))});case"ADD_CURRENT_CURRENCY":return Object(j.a)(Object(j.a)({},e),{},{addedCurrency:t.payload});case"SET_IS_OPEN_ADDING_WALLET":return Object(j.a)(Object(j.a)({},e),{},{isOpenAddingWallet:t.payload});case"SET_IS_OPEN_WALLET":return Object(j.a)(Object(j.a)({},e),{},{isOpenWallet:t.payload});default:return e}},w=c(22),k=c(1),T=function(e){var t=e.asset,c=Object(N.b)(),n=Object(w.f)();return Object(k.jsxs)("tr",{onClick:function(e){e.target.classList.contains("badge")||n.push("cripto/currency/".concat(t.id))},className:"table__row",children:[Object(k.jsxs)("td",{children:[" ",t.rank," "]}),Object(k.jsxs)("td",{children:[" ",t.name]}),Object(k.jsxs)("td",{children:["$",f(t.priceUsd)]}),Object(k.jsxs)("td",{children:[" $",f(t.marketCapUsd)]}),Object(k.jsxs)("td",{children:["$",f(t.vwap24Hr)]}),Object(k.jsxs)("td",{children:["$",f(t.supply)]}),Object(k.jsxs)("td",{children:["$",f(t.volumeUsd24Hr)]}),Object(k.jsxs)("td",{children:[f(t.changePercent24Hr),"%"]}),Object(k.jsx)("span",{className:"button button__add",children:Object(k.jsx)(_.a,{bg:"info",onClick:function(){c(E(!0)),c(A(t))},children:"+"})})]})},U=function(e){var t=e.assets;return Object(k.jsxs)(g.a,{hover:!0,responsive:!0,children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"Rank"}),Object(k.jsx)("th",{children:"Name"}),Object(k.jsx)("th",{children:"Price"}),Object(k.jsx)("th",{children:"Market Cap"}),Object(k.jsx)("th",{children:"VWAP(24Hr)"}),Object(k.jsx)("th",{children:"Supply"}),Object(k.jsx)("th",{children:"Volume(24Hr)"}),Object(k.jsx)("th",{children:"Change(24Hr)"}),Object(k.jsx)("th",{})]})}),Object(k.jsx)("tbody",{children:t.map((function(e){return Object(k.jsx)(T,{asset:e},e.id)}))})]})},I=c(389),R=Array.from(Array(10).keys()).map((function(e){return e+1})),L=function(){var e=Object(N.b)(),t=Object(N.c)((function(e){return e.assets})).activePage;return Object(k.jsx)(I.a,{className:"centeredBlock flex-wrap",children:R.map((function(c){return Object(k.jsx)(I.a.Item,{active:c===t,onClick:function(){return e({type:"SET_PAGE",payload:c})},children:c},c)}))})},W=function(){return Object(k.jsx)("div",{className:"centeredAllBlock",children:Object(k.jsx)("div",{className:"loader"})})},H=function(){var e=Object(N.b)(),t=Object(N.c)((function(e){return e.assets})),c=t.assets,a=t.activePage,r=t.limit,s=t.isOpenAssets;return Object(n.useEffect)((function(){localStorage.setItem("page",JSON.stringify(a));var t=setInterval((function(){return e(function(e,t){return function(){var c=Object(l.a)(i.a.mark((function c(n){var a;return i.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,d.a.get("https://api.coincap.io/v2/assets",{params:{limit:t,offset:(e-1)*t}});case 2:a=c.sent,n({type:"ADD_ASSETS",payload:a.data.data});case 4:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}(a,r))}),2e3);return function(){return clearInterval(t)}}),[a,r]),Object(k.jsx)("div",{className:"main main__content",children:s?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(U,{assets:c}),Object(k.jsx)(L,{})]}):Object(k.jsx)(W,{})})},P=(c(243),c(390)),F=c(381),B=function(){var e=Object(N.c)((function(e){return e.assets})).allAssets,t=e.slice(0,3),c=Object(N.b)(),a=Object(N.c)((function(e){return e.wallet})),r=a.currency,s=a.changeWallet;Object(n.useEffect)((function(){localStorage.setItem("currency",JSON.stringify(r))}),[r]),Object(n.useEffect)((function(){localStorage.setItem("changeWallet",JSON.stringify(s))}),[s]),Object(n.useEffect)((function(){localStorage.setItem("allAssets",JSON.stringify(e))}),[e]),Object(n.useEffect)((function(){var e=setInterval((function(){return c(function(){var e=Object(l.a)(i.a.mark((function e(t){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://api.coincap.io/v2/assets");case 2:c=e.sent,t({type:"ADD_ALL_ASSETS",payload:c.data.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),1e4);return function(){return clearInterval(e)}}),[]);var o=function(){var e=0;return Object(x.a)(r).forEach((function(t){e+=t.summary})),e}();return Object(k.jsxs)("div",{className:"header header__content",children:[e&&Object(k.jsx)(P.a,{horizontal:!0,className:"popularCripto__content",children:t.map((function(e){return Object(k.jsxs)(P.a.Item,{className:"border-0 popularCripto__item",children:[Object(k.jsxs)("span",{className:"popularCripto__name",children:[e.name," (",e.symbol,")"]}),Object(k.jsxs)(_.a,{bg:"primary",children:["$",f(e.marketCapUsd)]})]},e.symbol)}))}),Object(k.jsxs)(F.a,{variant:"info",onClick:function(){c(C(!0))},className:"wallet__info",children:[Object(k.jsx)("span",{children:"Wallet: "}),Object(k.jsxs)("span",{children:[f(o)," USD "]}),Object(k.jsxs)("span",{children:[s<0?"-".concat(f(s)):"+".concat(f(s)),"(",s?(100*s/(o===s?s:o-s)).toFixed():0," %) "]})]})]})},$=c(388),J=function(e){var t=e.currency,c=e.index,n=Object(N.b)();return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:c}),Object(k.jsx)("td",{children:t.name}),Object(k.jsxs)("td",{children:["$",f(t.price)]}),Object(k.jsx)("td",{children:t.count}),Object(k.jsxs)("td",{children:["$",f(t.summary)]}),Object(k.jsx)("td",{className:"centeredAllBlock button",onClick:function(){n({type:"DELETE_CURRENT_CURRENCY",payload:t})},children:Object(k.jsx)(_.a,{bg:"info",children:"-"})})]})})},G=function(){var e=Object(N.c)((function(e){return e.wallet})).currency;return Object(k.jsxs)(g.a,{borderless:!0,hover:!0,responsive:"sm",children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"#"}),Object(k.jsx)("th",{children:"Name"}),Object(k.jsx)("th",{children:"Price"}),Object(k.jsx)("th",{children:"Count"}),Object(k.jsx)("th",{children:"Summary"}),Object(k.jsx)("th",{})]})}),Object(k.jsx)("tbody",{children:e.map((function(e,t){return Object(k.jsx)(J,{currency:e,index:t+1},t)}))})]})},Y=function(){var e=Object(N.c)((function(e){return e.wallet})).isOpenWallet,t=Object(N.b)(),c=function(){t(C(!1))};return Object(k.jsxs)($.a,{show:e,onHide:c,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(k.jsx)($.a.Header,{closeButton:!0,children:Object(k.jsx)($.a.Title,{id:"contained-modal-title-vcenter",className:" centeredBlock",children:"List of my currency"})}),Object(k.jsx)($.a.Body,{children:Object(k.jsx)(G,{})}),Object(k.jsx)($.a.Footer,{children:Object(k.jsx)(F.a,{onClick:c,children:"Close"})})]})},M=c(15),z=c(392),V=c(393),K=function(){var e=Object(N.c)((function(e){return e.wallet})),t=e.isOpenAddingWallet,c=e.addedCurrency,a=Object(N.b)(),r=Object(n.useState)(0),s=Object(M.a)(r,2),i=s[0],l=s[1],o=function(){a(E(!1))};return Object(k.jsxs)($.a,{show:t,onHide:o,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(k.jsx)($.a.Header,{closeButton:!0,children:Object(k.jsx)($.a.Title,{children:"Add to the wallet"})}),Object(k.jsxs)($.a.Body,{children:[Object(k.jsx)("h4",{className:"centeredAllBlock",children:c.name}),Object(k.jsxs)(z.a,{className:"mb-3",children:[Object(k.jsx)(z.a.Text,{id:"basic-addon1",children:"Count: "}),Object(k.jsx)(V.a,{placeholder:"Count of currency","aria-label":"Count",type:"number",min:"0",step:"0.01",onChange:function(e){return l(e.target.value)}})]})]}),Object(k.jsxs)($.a.Footer,{children:[Object(k.jsx)(F.a,{variant:"primary",onClick:function(){var e={id:c.id,name:c.name,price:c.priceUsd,count:i,summary:c.priceUsd*i};a({type:"ADD_CURRENCY",payload:e}),o()},children:"Save Changes"}),Object(k.jsx)(F.a,{variant:"secondary",onClick:o,children:"Close"})]})]})},q=c(113),Q=c(382),X=c(383),Z=c(203),ee=c(204),te=c(94),ce=c(387),ne=c(208),ae=function(e){var t=e.assets24h,c=e.min,n=e.max,a=function(e){return Number(e).toFixed(2)};return t.forEach((function(e){e.priceUsd=a(e.priceUsd)})),Object(k.jsx)(Q.a,{width:"100%",height:300,children:Object(k.jsxs)(X.a,{data:t,margin:{top:5,bottom:5},useInteractiveGuideline:!0,children:[Object(k.jsx)(Z.a,{dataKey:"date",tickFormatter:function(e){var t=new Date(e).getHours();return"".concat(t,"h")}}),Object(k.jsx)(ee.a,{showMaxMin:!1,tickCount:20,tickFormatter:a,type:"number",domain:[c,n]}),Object(k.jsx)(te.a,{}),Object(k.jsx)(ce.a,{strokeDasharray:"3 3"}),Object(k.jsx)(ne.a,{activeDot:{r:8},type:"monotone",dataKey:"priceUsd",tickFormatter:a,stroke:"#ff7300"}),"/>"]})})},re=function(){var e=Object(N.c)((function(e){return e.assets})).allAssets,t=Object(N.c)((function(e){return e.details})),c=t.assets24h,a=t.details,r=function(){var e=new Date,t=(new Date).setUTCHours(0,0,0,0),c=new Date((new Date).getTime()-864e5),n=e.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return{now:e,start24h:c,startDay:t,date:n}}(),s=r.now,i=r.startDay,l=r.start24h,o=r.date,d=Object(w.g)().id,j=Object(N.b)(),u=e.find((function(e){return e.id===d}));Object(n.useEffect)((function(){var t=0,c=0;return e.length&&(c=setInterval((function(){return j(v(u.id,l.getTime(),s.getTime()))}),2e3),t=setInterval((function(){return j(v(u.id,i,s.getTime(),!0))}),2e3)),function(){clearInterval(t),clearInterval(c)}}),[d,e]);return Object(k.jsxs)("div",{className:"card__wrapper",children:[Object.keys(a).length?Object(k.jsxs)("div",{className:"card__content",children:[Object(k.jsxs)("div",{className:"card__info",children:[Object(k.jsx)("img",{src:"https://assets.coincap.io/assets/icons/".concat(u.symbol.toLowerCase(),"@2x.png"),alt:"currency",className:"card__img"}),Object(k.jsxs)("div",{className:"card__data",children:[Object(k.jsxs)("span",{children:[" ",u.name," (",u.symbol,")"]}),Object(k.jsx)("span",{children:o})]})]}),Object(k.jsxs)("div",{className:"card__data",children:[Object(k.jsxs)("span",{children:["HIGH: $",f(a.max)]}),Object(k.jsxs)("span",{children:["LOW: $",f(a.min)]}),Object(k.jsxs)("span",{children:["AVERAGE: $",f(a.average)]})]}),Object(k.jsx)("div",{className:"card__data",children:Object(k.jsx)("span",{className:"button button__add",children:Object(k.jsx)(_.a,{bg:"info",onClick:function(){j(E(!0)),j(A(u))},children:"+"})})})]}):Object(k.jsx)(W,{}),Object(k.jsx)(ae,{assets24h:c,max:a.max,min:a.min}),Object(k.jsx)(q.b,{to:"/",children:Object(k.jsx)("div",{className:"centeredBlock",children:Object(k.jsx)(F.a,{children:"Back"})})})]})},se=function(){var e=Object(N.c)((function(e){return e.assets})).assets;return Object(k.jsxs)(q.a,{children:[Object(k.jsx)(B,{}),Object(k.jsx)(Y,{}),Object(k.jsx)(K,{}),Object(k.jsxs)(w.c,{children:[e.map((function(e){return Object(k.jsx)(w.a,{path:"/cripto/currency/:id",render:function(){return Object(k.jsx)(re,{})}},e.id)})),Object(k.jsx)(w.a,{path:"/cripto",children:Object(k.jsx)(H,{})})]})]})},ie=c(91),le=c(205),oe=c(206),de=Object(ie.combineReducers)({assets:O,details:m,wallet:D}),je=Object(ie.createStore)(de,Object(le.composeWithDevTools)(Object(ie.applyMiddleware)(oe.a)));r.a.render(Object(k.jsx)(N.a,{store:je,children:Object(k.jsx)(se,{})}),document.getElementById("root"))}},[[377,1,2]]]);
//# sourceMappingURL=main.4077e2ae.chunk.js.map